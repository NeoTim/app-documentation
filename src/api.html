<template>
  <section id="APIView" class="au-animate">
    <ul class="au-menu">
      <li class="${$parent.selectedModule === repository ? 'au-active': ''}" repeat.for="repository of localCache.repositories">
        <a href="#/api/${repository.name}">${repository.prettyName}</a>
      </li>
    </ul>
    <div>
      <div class="au-section">

        <h1 class="au-section-heading">
          <span>${selectedModule.prettyName}</span>
          <div class="pull-right">
            <span class="au-tag" if.bind="selectedModule.version">Version: ${selectedModule.version}</span>
          </div>
        </h1>

        <div class="au-section-body">
          <h3 if.bind="selectedModule.description">${selectedModule.description}</h3>

          <div class="text-sm" if.bind="selectedModule.keywords">
            <span class="strong">Keywords:</span>
            <span>${selectedModule.keywords.join(',')}</span>
          </div>

          <div class="spaced">
            <a class="au-button" href="https://github.com/${selectedModule.location}/blob/master/doc/CHANGELOG.md" target="_blank">Changes</a>
            <a class="au-button" href="https://github.com/${selectedModule.location}/issues" target="_blank">Issues</a>
            <a class="au-button" href="https://github.com/${selectedModule.location}/blob/master/LICENSE" target="_blank">License</a>
            <a class="au-button" href="https://github.com/${selectedModule.location}" target="_blank">Repository</a>
          </div>
        </div>
      </div>

      <div class="au-section">
        <div class="au-section-body">
          <template if.bind="selectedModule.dependencies">
            <h1>Dependencies</h1>
            <ul>
              <a href="#"><li repeat.for="dependency of selectedModule.dependencies">${dependency}</li></a>
            </ul>
          </template>

          <template if.bind="selectedModule.usedby">
            <h1>Used By</h1>
            <ul>
              <a href="#"><li repeat.for="use of selectedModule.usedby">${use}</li></a>
            </ul>
          </template>

          <template if.bind="selectedModule.classes">
            <h1>Exports</h1>
            <h2>Classes</h2>
            <ul>
              <li repeat.for="exportClass of selectedModule.classes">${exportClass.name}</li>
            </ul>
            <h1>Methods</h1>
            <ul>
              <li repeat.for="method of selectedModule.methods">${method.name}</li>
            </ul>
            <h1>Properties</h1>
            <ul>
              <li repeat.for="prop of selectedModule.properties">${prop.name}</li>
            </ul>
            <h1>Events</h1>
            <ul>
              <li repeat.for="event of selectedModule.events">${event.name}</li>
            </ul>
          </template>

          <template if.bind="selectedModule.articles">
            <h1>Related Articles</h1>
            <ul>
              <a href="#"><li repeat.for="article of selectedModule.articles">${article}</li></a>
            </ul>
          </template>
        </div>
    </div>
  </section>
</template>
